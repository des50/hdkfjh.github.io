<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Setup Instructions AWS</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Setting up Spark Clusters with AWS</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. From Local to Standalone Mode.html">02. From Local to Standalone Mode</a>
    </li>
    <li class="">
      <a href="03. Setup Instructions AWS.html">03. Setup Instructions AWS</a>
    </li>
    <li class="">
      <a href="04. AWS - Install and Configure CLI v2.html">04. AWS - Install and Configure CLI v2</a>
    </li>
    <li class="">
      <a href="05. AWS CLI - Create EMR Cluster.html">05. AWS CLI - Create EMR Cluster</a>
    </li>
    <li class="">
      <a href="06. Using Notebooks on Your Cluster.html">06. Using Notebooks on Your Cluster</a>
    </li>
    <li class="">
      <a href="07. Spark Scripts.html">07. Spark Scripts</a>
    </li>
    <li class="">
      <a href="08. Submitting Spark Scripts.html">08. Submitting Spark Scripts</a>
    </li>
    <li class="">
      <a href="09. Storing and Retrieving Data on the Cloud.html">09. Storing and Retrieving Data on the Cloud</a>
    </li>
    <li class="">
      <a href="10. Reading and Writing to Amazon S3.html">10. Reading and Writing to Amazon S3</a>
    </li>
    <li class="">
      <a href="11. Understanding difference between HDFS and AWS S3.html">11. Understanding difference between HDFS and AWS S3</a>
    </li>
    <li class="">
      <a href="12. Reading and Writing Data to HDFS.html">12. Reading and Writing Data to HDFS</a>
    </li>
    <li class="">
      <a href="13. Recap Local Mode to Cluster Mode.html">13. Recap Local Mode to Cluster Mode</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">03. Setup Instructions AWS</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="ec2-vs-emr">EC2 vs EMR</h3>
<table>
<tr>
<th>   </th><th>__AWS EMR__</th><th>__AWS EC2__</th></tr>
<tr>
<td>**Distributed computing**</td><td>Yes</td><td>Yes</td></tr>
<tr><td>**Node categorization**</td><td>Categorizes secondary nodes into core and task nodes as a result of which data can be lost in case a data node is removed.</td><td>Does not use node categorization</td></tr>
<tr><td>**Can support HDFS?**</td><td>Yes</td><td>Only if you configure HDFS on EC2 yourself using multi-step process.</td></tr>
<tr><td>**What protocol can be used?**</td><td>Uses S3 protocol over AWS S3, which is faster than s3a protocol</td><td>ECS uses s3a</td></tr>
<tr><td>**Comparison cost**</td> <td>Bit higher</td><td>Lower</td></tr></table>
<h3 id="circling-back-about-hdfs">Circling back about HDFS</h3>
<p>Previously we have looked over the Hadoop Ecosystem. To refresh those concepts, we have provided reference material here. HDFS (Hadoop Distributed File System) is the file system. HDFS uses MapReduce system as a resource manager.</p>
<p>Spark can replace the MapReduce algorithm. Since Spark does not have its own distributed storage system, it leverages using HDFS or AWS S3, or any other distributed storage. Primarily in this course, we will be using AWS S3, but let’s review the advantages of using HDFS over AWS S3.</p>
<h3 id="what--is-hdfs">What  is HDFS?</h3>
<p>HDFS (Hadoop Distributed File System) is the file system in the Hadoop ecosystem. Hadoop and Spark are two frameworks providing tools for carrying out big-data related tasks. While Spark is faster than Hadoop, Spark has one drawback. It lacks a distributed storage system. In other words, Spark lacks a system to organize, store and process data files. </p>
<h3 id="mapreduce-system">MapReduce System</h3>
<p>HDFS uses MapReduce system as a resource manager to allow the distribution of the files across the hard drives within the cluster. Think of it as the MapReduce System storing the data back on the hard drives after completing all the tasks. </p>
<p>Spark, on the other hand, runs the operations and holds the data in the RAM memory rather than the hard drives used by HDFS. Since Spark lacks a file distribution system to organize, store and process data files, Spark tools are often installed on Hadoop because Spark can then use the Hadoop Distributed File System (HDFS). </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Spark L3 SC 04 Setup Instructions AWS</p></h3>
  <video controls>
  <source src="03. Spark L3 SC 04 Setup Instructions AWS-ZVdAEMGDFdo.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="03. Spark L3 SC 04 Setup Instructions AWS-ZVdAEMGDFdo.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="why-do-you-need-__emr-cluster__">Why do you need <strong>EMR Cluster</strong>?</h3>
<p>Since a Spark cluster includes multiple machines, in order to use Spark code on each machine, we would need to download and install Spark and its dependencies. This is a manual process. <strong>Elastic Map Reduce</strong> is a service offered by AWS that negates the need for you, the user, to go through the manual process of installing Spark and its dependencies for each machine.</p>
<h3 id="setting-up-aws">Setting up AWS</h3>
<p>Please refer to the latest <a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-gs-launch-sample-cluster.html" rel="noopener noreferrer" target="_blank">AWS documentation to set up an EMR Cluster</a>.  </p>
<p>Let’s pause  to do a quick check for understanding  from a previous  page.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>What are the characteristics of the standalone mode?</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>What are some characteristics of the AWS EMR standalone mode? (may be more than one answer)</p></legend>
    </fieldset>

    <div>
      <input type="checkbox" value="rbk1" name="1015609" id="rbk1">
      <label for="rbk1"><p>It runs on your local machine</p></label>
    </div>
    <div>
      <input type="checkbox" value="rbk2" name="1015609" id="rbk2">
      <label for="rbk2"><p>It is distributed</p></label>
    </div>
    <div>
      <input type="checkbox" value="rbk3" name="1015609" id="rbk3">
      <label for="rbk3"><p>Spark is taking care of the resource management</p></label>
    </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    <ul>
      <li>It is distributed</li>
      <li>Spark is taking care of the resource management</li>
  </ul>
  </details>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="04. AWS - Install and Configure CLI v2.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('03. Setup Instructions AWS')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
